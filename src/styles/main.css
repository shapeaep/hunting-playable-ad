* { margin: 0; padding: 0; box-sizing: border-box; }

body { 
    overflow: hidden; 
    touch-action: none;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #000000;
}

#game { 
    width: 100vw; 
    height: 100vh; 
    display: block; 
}

/* ========== Loading Screen ========== */
#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000000;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    transition: opacity 0.5s ease;
}

#loading-screen.hidden {
    opacity: 0;
    pointer-events: none;
}

.loading-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 30px;
}

#loading-logo {
    max-width: 80vw;
    max-height: 30vh;
    object-fit: contain;
}

.loading-bar-container {
    width: 280px;
    height: 8px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 4px;
    overflow: hidden;
}

.loading-bar {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg, #4a90a4, #6bb8d0, #4a90a4);
    background-size: 200% 100%;
    border-radius: 4px;
    transition: width 0.3s ease;
    animation: loadingShimmer 1.5s infinite linear;
}

@keyframes loadingShimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.loading-text {
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
    letter-spacing: 2px;
    text-transform: uppercase;
}

/* ========== UI Overlay ========== */
#ui {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 10;
}

/* ========== Sniper Scope ========== */
#scope {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
}

#scope .vignette {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: min(95vw, 95vh);
    height: min(95vw, 95vh);
    border-radius: 50%;
    box-shadow: 0 0 0 9999px rgba(0,0,0,0.92);
    border: 4px solid #111;
}

#scope .inner-ring {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: min(85vw, 85vh);
    height: min(85vw, 85vh);
    border-radius: 50%;
    border: 2px solid rgba(0,0,0,0.5);
}

/* ========== Crosshair ========== */
#crosshair {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 100%; height: 100%;
}

#crosshair .h-line,
#crosshair .v-line {
    position: absolute;
    background: rgba(0,0,0,0.7);
}

#crosshair .h-line {
    width: 100%; height: 2px;
    top: 50%; left: 0;
}

#crosshair .v-line {
    width: 2px; height: 100%;
    top: 0; left: 50%;
}

#crosshair .h-line::before,
#crosshair .h-line::after,
#crosshair .v-line::before,
#crosshair .v-line::after {
    content: '';
    position: absolute;
    background: #c41e1e;
}

#crosshair .h-line::before { width: 30px; height: 2px; right: calc(50% + 20px); top: 0; }
#crosshair .h-line::after { width: 30px; height: 2px; left: calc(50% + 20px); top: 0; }
#crosshair .v-line::before { width: 2px; height: 30px; bottom: calc(50% + 20px); left: 0; }
#crosshair .v-line::after { width: 2px; height: 30px; top: calc(50% + 20px); left: 0; }

#crosshair .center {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 6px; height: 6px;
    background: #c41e1e;
    border-radius: 50%;
}

#crosshair .marker {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 10px;
    color: rgba(0,0,0,0.6);
    font-family: monospace;
}

#crosshair .marker::before,
#crosshair .marker::after {
    content: '';
    position: absolute;
    width: 8px; height: 1px;
    background: rgba(0,0,0,0.5);
    top: 50%;
}

#crosshair .marker::before { left: -15px; }
#crosshair .marker::after { right: -15px; }

/* ========== Score Panel ========== */
#score-panel {
    position: absolute;
    top: 20px; left: 20px;
    background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(20,20,30,0.9));
    padding: 15px 25px;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.1);
}

#score-panel .label {
    font-size: 10px;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 2px;
}

#score-panel .value {
    font-size: 36px;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 0 20px rgba(255,180,50,0.5);
}

/* ========== Target Info ========== */
#target-info {
    position: absolute;
    bottom: 150px; left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.7);
    padding: 8px 20px;
    border-radius: 20px;
    color: #fff;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.3s;
}

#target-info.visible { opacity: 1; }
#target-info .label { color: #aaa; }
#target-info .distance { color: #fff; font-weight: bold; margin-left: 8px; }

/* ========== Hint ========== */
#hint {
    position: absolute;
    bottom: 100px; left: 50%;
    transform: translateX(-50%);
    color: rgba(255,255,255,0.7);
    font-size: 14px;
    text-align: center;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

/* ========== CTA Button ========== */
#cta {
    position: absolute;
    top: 20px; 
    right: 20px;
    background: linear-gradient(135deg, #ff6b35, #f7931e);
    color: white;
    padding: 14px 28px;
    font-size: 14px;
    font-weight: bold;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    pointer-events: auto;
    box-shadow: 0 6px 20px rgba(255,107,53,0.5);
    text-transform: uppercase;
    letter-spacing: 1px;
    display: none;
    animation: ctaPulse 1.5s infinite;
}

@keyframes ctaPulse {
    0%, 100% { transform: scale(1); box-shadow: 0 6px 20px rgba(255,107,53,0.5); }
    50% { transform: scale(1.08); box-shadow: 0 8px 30px rgba(255,107,53,0.7); }
}

/* ========== Effects ========== */
#hit-effect {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: radial-gradient(ellipse at center, rgba(255,0,0,0.3) 0%, transparent 70%);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.1s;
}

#hit-effect.show { opacity: 1; }

#bullet-time {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
}

#bullet-time.active { opacity: 1; }

#bullet-time .blur {
    display: none;
}

#bullet-time .vignette {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: radial-gradient(ellipse at center, transparent 50%, rgba(0,0,0,0.3) 100%);
}

#slowmo-text {
    position: absolute;
    top: 20px; right: 20px;
    color: #ff4444;
    font-size: 14px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 3px;
    opacity: 0;
    transition: opacity 0.3s;
}

#slowmo-text.visible { opacity: 1; }

/* ========== Score Popup ========== */
.score-popup {
    position: absolute;
    color: #ffd700;
    font-size: 32px;
    font-weight: bold;
    text-shadow: 0 0 20px rgba(255,215,0,0.8), 0 2px 4px rgba(0,0,0,0.5);
    pointer-events: none;
    animation: scoreFloat 1.5s ease-out forwards;
}

@keyframes scoreFloat {
    0% { opacity: 1; transform: translate(-50%, 0) scale(0.5); }
    20% { transform: translate(-50%, -10px) scale(1.2); }
    100% { opacity: 0; transform: translate(-50%, -80px) scale(1); }
}

/* ========== Miss Popup ========== */
.miss-popup {
    position: absolute;
    color: #ff4444;
    font-size: 48px;
    font-weight: bold;
    text-shadow: 0 0 30px rgba(255,68,68,0.8), 0 4px 8px rgba(0,0,0,0.7);
    pointer-events: none;
    letter-spacing: 8px;
    animation: missFloat 1.2s ease-out forwards;
}

@keyframes missFloat {
    0% { opacity: 0; transform: translate(-50%, 0) scale(0.3); }
    15% { opacity: 1; transform: translate(-50%, -5px) scale(1.3); }
    30% { transform: translate(-50%, -10px) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -60px) scale(0.8); }
}

/* ========== Virtual Joystick ========== */
#joystick-zone {
    position: absolute;
    left: 50%;
    bottom: 40px;
    transform: translateX(-50%);
    width: 140px;
    height: 140px;
    pointer-events: auto;
}

#joystick-base {
    position: absolute;
    width: 120px;
    height: 120px;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    border: 2px solid rgba(255,255,255,0.2);
    border-radius: 50%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}

#joystick-stick {
    position: absolute;
    width: 50px;
    height: 50px;
    background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.2) 100%);
    border: 2px solid rgba(255,255,255,0.5);
    border-radius: 50%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: transform 0.05s ease-out;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

/* Tutorial animation for joystick - 2 points */
#joystick-stick.tutorial {
    animation: joystickTutorial 1.2s ease-in-out infinite;
}

@keyframes joystickTutorial {
    0%, 100% { transform: translate(-50%, -50%); }
    50% { transform: translate(calc(-50% + 30px), calc(-50% - 25px)); }
}

/* Hide joystick elements when active */
#joystick-zone.active #joystick-base,
#joystick-zone.active #joystick-stick {
    opacity: 0 !important;
}

/* Release to shoot hint */
#release-hint {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: rgba(255,255,255,0.9);
    font-size: 14px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 2px 10px rgba(0,0,0,0.8);
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
}

#release-hint.visible {
    opacity: 1;
    animation: releaseHintPulse 1s ease-in-out infinite;
}

@keyframes releaseHintPulse {
    0%, 100% { opacity: 0.7; transform: translate(-50%, -50%) scale(1); }
    50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
}

/* ========== Shoot Button ========== */
#shoot-btn {
    position: absolute;
    right: 30px;
    bottom: 40px;
    width: 90px;
    height: 90px;
    background: radial-gradient(circle, rgba(255,60,60,0.8) 0%, rgba(180,30,30,0.9) 100%);
    border: 3px solid rgba(255,100,100,0.6);
    border-radius: 50%;
    pointer-events: auto;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 25px rgba(255,50,50,0.4), inset 0 -4px 10px rgba(0,0,0,0.3);
    transition: transform 0.1s, box-shadow 0.1s;
}

#shoot-btn:active {
    transform: scale(0.92);
    box-shadow: 0 2px 10px rgba(255,50,50,0.3), inset 0 -2px 5px rgba(0,0,0,0.3);
}

#shoot-btn::before {
    content: '';
    width: 30px;
    height: 30px;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>') center/contain no-repeat;
    filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3));
}

#shoot-btn.disabled {
    opacity: 0.4;
    pointer-events: none;
}

#shoot-btn .ripple {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: rgba(255,255,255,0.3);
    animation: rippleEffect 0.4s ease-out;
    pointer-events: none;
}

@keyframes rippleEffect {
    0% { transform: scale(0.8); opacity: 1; }
    100% { transform: scale(1.5); opacity: 0; }
}

/* ========== Hide elements during bullet time ========== */
#scope.hidden,
#crosshair.hidden,
#joystick-zone.hidden,
#shoot-btn.hidden,
#target-info.hidden {
    opacity: 0 !important;
    pointer-events: none;
    transition: opacity 0.3s;
}

#scope,
#crosshair,
#target-info {
    transition: opacity 0.3s;
}

